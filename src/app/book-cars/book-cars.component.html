<div class="navbar">
    <h1>EcoCarApp</h1>
  </div>

  <div class="ad-container">
    <div class="ad-text">
        <h3>Limited Offer only! All brand new cars below available to rent, only 10 &euro;/hr fuel and insurance inclusive. </h3>
    </div>
</div>


  <div class="grid-container">
    <div class="grid-item" (click)="toggleCard(1);setPriceValue(8890);setCar('aqua')"><img src="assets/car1.jpg" alt="Car 1"></div>
    <div class="grid-item" (click)="toggleCard(2);setPriceValue(12490)"><img src="assets/car2.jpg" alt="Car 2"></div>
    <div class="grid-item" (click)="toggleCard(3);setPriceValue(12890)"><img src="assets/car3.jpg" alt="Car 3"></div>
    <div class="grid-item" (click)="toggleCard(4);setPriceValue(13490)"><img src="assets/car4.jpg" alt="Car 4"></div>
    <div class="grid-item" (click)="toggleCard(5);setPriceValue(16490)"><img src="assets/car5.jpg" alt="Car 5"></div>
    <div class="grid-item" (click)="toggleCard(6);setPriceValue(23777)"><img src="assets/car6.jpg" alt="Car 6"></div>
    <div class="grid-item" (click)="toggleCard(3);setPriceValue(12890)"><img src="assets/car3.jpg" alt="Car 3"></div>
    <div class="grid-item" (click)="toggleCard(4);setPriceValue(13490)"><img src="assets/car4.jpg" alt="Car 4"></div>
    <div class="grid-item" (click)="toggleCard(5);setPriceValue(16490)"><img src="assets/car5.jpg" alt="Car 5"></div>
    <div class="grid-item" (click)="toggleCard(6);setPriceValue(23777)"><img src="assets/car6.jpg" alt="Car 6"></div>
  </div>
  
  <div *ngIf="showCard" class="card-container" >
    <button pButton type="button" style="border: none; margin-left: 90%;color: #1976d2 ;" icon="pi pi-times" class="p-button p-button-danger p-button-outlined" (click)="closeCard()"></button>
    <p-card *ngIf="showCard" [style]="{ width: '300px', padding: '5px' }">
      <ng-template pTemplate="header">
        <img style="width: 100%; height: auto;" [src]="image" alt="Card Image" />
      </ng-template>
      <ng-template pTemplate="footer">
        <div style="display: flex; justify-content: center;margin-top: 20%;">
          <button pButton (click)="toggleSecondCard(); isRent()" style="width: 80px; height: 50px; border-radius: 10px; background-color: #1976d2; color: white; border: 1px solid #1976d2; margin-right: 10px;">
            Rent
          </button>
          <button pButton (click)="toggleThirdCard(); isBuy(); setFinalValue()" style="width: 80px; height: 50px; border-radius: 10px; background-color: #1976d2; color: white; border: 1px solid #1976d2;">
            Buy
          </button>
        </div>
      </ng-template>
    </p-card>    
</div>

<div *ngIf="secondCard" class="card-container" >
  <button pButton type="button" style="border: none; margin-left: 90%;color: #1976d2 ;" icon="pi pi-times" class="p-button p-button-danger p-button-outlined" (click)="closeCard()"></button>
    
  <p-card *ngIf="secondCard" [style]="{ width: '300px' }">
    <ng-template pTemplate="header">
      <img style="width: 100%; max-width: 200px; height: auto; margin-left: auto; margin-right: auto; display: block;" [src]="image" alt="Card Image" />
    </ng-template>
    <div style="margin-top: 15%;margin-left: 15%;">
      Rent this car
      <button (click)="increase()" style="margin: 0 5px;">+</button>
      <span>{{ value }}</span>
      <button (click)="decrease()" style="margin: 0 5px;">-</button>
    </div>
    <div style="margin-top: 5%;margin-left: 15%;">
      Total Cost: {{ value * 10}}
      <br><br>
      <button (click)="toggleThirdCard(); setFinalValue()" style="margin-left: 5%;margin-top: 20%;width: 80%; height: 40px; border-radius: 5px; background-color: #1976d2; color: white; border: 1px solid #1976d2;">Proceed to Payment</button>
    </div>
    <ng-template pTemplate="footer">
      <div style="text-align: center;">
        <button pButton style="margin-top: 10%;"  type="button" icon="pi pi-backward" (click)="toggleShowCard()">Back</button>
      </div>
    </ng-template>
  </p-card>
  
</div>

<div *ngIf="thirdCard" class="card-container-3" >
  <button pButton type="button" style="border: none; margin-left: 90%;color: #1976d2 ;" icon="pi pi-times" class="p-button p-button-danger p-button-outlined" (click)="closeCard()"></button>
    
  <p-card *ngIf="thirdCard" [style]="{ width: '300px' }">
    <ng-template pTemplate="header">
        <img style="width: 200px;height: 200px;margin-left: 40px;margin-top: 5px;" alt="Card" src={{image}} />
    </ng-template>
    <div style="margin-top: 10%;">
     
      <span style="margin-left: 15%;font-weight: 500;color: #1976d2;">You just need to pay: {{ finalValue}}</span>

    </div>

    <div class="container mt-5">
      <h3>Payment Details</h3>
      <form>
        <div class="form-group">
          <label for="bookingDateTime">Date and Time of Booking</label>
          <input type="datetime-local" class="form-control" id="bookingDateTime" name="bookingDateTime" [(ngModel)]="datetime">
        </div>
        
        
        <div class="form-group">
          <label for="cardNumber">Card Number</label>
          <input type="text" class="form-control" id="cardNumber">
        </div>
        <div class="form-group">
          <label for="expiryDate">Expiry Date</label>
          <input type="text" class="form-control" id="expiryDate" placeholder="MM/YY">
        </div>
        <div class="form-group">
          <label for="cvv">CVV</label>
          <input type="text" class="form-control" id="cvv" maxlength="3">
        </div>
        <button type="submit" class="btn btn-primary" style="margin-left: 18%;margin-top: 2%;" (click)="bookCar()">Submit Payment</button>
      </form>
    </div>
    

    <ng-template pTemplate="footer">
      <button pButton type="button" icon="pi pi-backward" (click)="toggleShowCard()"></button>

       
    </ng-template>
</p-card>
</div>


 
    